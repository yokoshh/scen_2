# Мини-документация проекта

Этот проект представляет собой набор тестов для веб-приложения, включающий юнит-тесты и Selenium-тесты. Основная цель — проверить корректность работы веб-приложения как на уровне кода, так и на уровне пользовательского интерфейса.

## Структура проекта

1. **`all_test.py`** — основной скрипт, который запускает все тесты и записывает результаты в файл `test_report.txt`.
2. **`code_test.py`** — модуль с юнит-тестами, которые проверяют корректность работы Flask-приложения.
3. **`testing.py`** — модуль с Selenium-тестами, которые проверяют взаимодействие с пользовательским интерфейсом веб-приложения.
4. **`config.json`** — файл конфигурации, содержащий URL тестируемого сайта и XPath-выражения для элементов интерфейса.

---

## Описание файлов

### 1. `all_test.py`

Этот скрипт является точкой входа для запуска всех тестов. Он выполняет следующие действия:

- **Запуск юнит-тестов**:
  - Использует модуль `unittest` для запуска тестов из класса `TestHomePage`.
  - Результаты тестов записываются в файл `test_report.txt`.

- **Запуск Selenium-тестов**:
  - Выполняет два сценария тестирования пользовательского интерфейса с помощью Selenium.
  - Записывает время выполнения каждого сценария и возможные ошибки в файл `test_report.txt`.

- **Создание отчета**:
  - Все результаты тестов сохраняются в файл `test_report.txt` в удобочитаемом формате.

### 2. `code_test.py`

Этот модуль содержит юнит-тесты для проверки работы Flask-приложения. Основные функции:

- **`TestHomePage`**:
  - Проверяет, что главная страница возвращает статус `200` и содержит HTML-код.
  - Использует `Flask.test_client()` для эмуляции HTTP-запросов.

- **Запуск тестов**:
  - Тесты можно запускать как отдельный скрипт, и они выводят результаты в консоль.

### 3. `testing.py`

Этот модуль содержит Selenium-тесты для проверки пользовательского интерфейса веб-приложения. Основные функции:

- **`scen_1()`**:
  - Открывает главную страницу, нажимает на кнопку, указанную в `xpath_1`, затем на кнопку, указанную в `xpath_2`.
  - Возвращает время выполнения сценария.

- **`scen_2()`**:
  - Открывает главную страницу, затем переходит по URL, указанному в `link`.
  - Возвращает время выполнения сценария.

- **Запуск тестов**:
  - Тесты можно запускать как отдельный скрипт, и они выводят время выполнения в консоль.

### 4. `config.json`

Файл конфигурации, содержащий параметры для тестов:

- **`url`** — URL тестируемого сайта.
- **`xpath_1`** и **`xpath_2`** — XPath-выражения для элементов интерфейса, с которыми взаимодействуют Selenium-тесты.
- **`link`** — дополнительный путь для перехода в одном из сценариев.

---

## Как работает код

1. **Запуск тестов**:
   - Скрипт `all_test.py` запускает юнит-тесты и Selenium-тесты последовательно.
   - Результаты записываются в файл `test_report.txt`.

2. **Юнит-тесты**:
   - Проверяют, что Flask-приложение корректно обрабатывает запросы и возвращает ожидаемые результаты.

3. **Selenium-тесты**:
   - Эмулируют действия пользователя на веб-странице, проверяя корректность работы интерфейса.
   - Измеряют время выполнения каждого сценария.

4. **Конфигурация**:
   - Параметры тестов (URL, XPath, ссылки) хранятся в `config.json`, что позволяет легко изменять их без изменения кода.

---

## Пример отчета `test_report.txt`

```plaintext
=== Юнит-тесты ===
test_home_page (__main__.TestHomePage) ... ok

----------------------------------------------------------------------
Ran 1 test in 0.001s

OK

=== Selenium-тесты ===
Selenium Tests Output:
Время выполнения сценария 1, вариант 1: 5.23 секунд
Время выполнения сценария 1, вариант 2: 3.45 секунд
```

---

## Зависимости

Для работы проекта необходимо установить следующие библиотеки:

- `unittest` (встроен в Python).
- `Flask` (для тестирования веб-приложения).
- `selenium` (для тестирования пользовательского интерфейса).
- Драйвер для Selenium (например, `chromedriver` для браузера Chrome).

---

## Как запустить проект

1. Установите зависимости:
   ```bash
   pip install Flask selenium
   ```

2. Запустите основной скрипт:
   ```bash
   python all_test.py
   ```

3. Проверьте результаты в файле `test_report.txt`.